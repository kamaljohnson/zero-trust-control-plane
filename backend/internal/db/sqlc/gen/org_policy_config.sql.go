// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: org_policy_config.sql

package gen

import (
	"context"
	"time"
)

const getOrgPolicyConfig = `-- name: GetOrgPolicyConfig :one
SELECT org_id, config_json, updated_at
FROM org_policy_config
WHERE org_id = $1
`

func (q *Queries) GetOrgPolicyConfig(ctx context.Context, orgID string) (OrgPolicyConfig, error) {
	row := q.db.QueryRowContext(ctx, getOrgPolicyConfig, orgID)
	var i OrgPolicyConfig
	err := row.Scan(&i.OrgID, &i.ConfigJson, &i.UpdatedAt)
	return i, err
}

const upsertOrgPolicyConfig = `-- name: UpsertOrgPolicyConfig :one
INSERT INTO org_policy_config (org_id, config_json, updated_at)
VALUES ($1, $2, $3)
ON CONFLICT (org_id) DO UPDATE SET
    config_json = EXCLUDED.config_json,
    updated_at = EXCLUDED.updated_at
RETURNING org_id, config_json, updated_at
`

type UpsertOrgPolicyConfigParams struct {
	OrgID      string
	ConfigJson string
	UpdatedAt  time.Time
}

func (q *Queries) UpsertOrgPolicyConfig(ctx context.Context, arg UpsertOrgPolicyConfigParams) (OrgPolicyConfig, error) {
	row := q.db.QueryRowContext(ctx, upsertOrgPolicyConfig, arg.OrgID, arg.ConfigJson, arg.UpdatedAt)
	var i OrgPolicyConfig
	err := row.Scan(&i.OrgID, &i.ConfigJson, &i.UpdatedAt)
	return i, err
}
