# gRPC listen address (default :8080)
GRPC_ADDR=:8080

# Postgres DSN for when DB is wired (optional). Also used by scripts/migrate.sh and scripts/seed.sh.
# seed.sh inserts dev users (e.g. dev@example.com / password123) for local testing; do not use in production.
# For local Docker deploy use the credentials from backend/deploy/README.md:
# DATABASE_URL=postgres://ztcp:ztcp@localhost:5432/ztcp?sslmode=disable
DATABASE_URL=

# Auth: enable when DATABASE_URL and both JWT_PRIVATE_KEY and JWT_PUBLIC_KEY are set
# JWT_PRIVATE_KEY: PEM-encoded private key (RSA or ECDSA) or path to file
JWT_PRIVATE_KEY=
# JWT_PUBLIC_KEY: PEM-encoded public key or path to file
JWT_PUBLIC_KEY=
# JWT_ISSUER and JWT_AUDIENCE: iss/aud claims (e.g. ztcp-auth, ztcp-api)
JWT_ISSUER=ztcp-auth
JWT_AUDIENCE=ztcp-api
# JWT_ACCESS_TTL is access token lifetime (e.g. 15m)
JWT_ACCESS_TTL=15m
# JWT_REFRESH_TTL is refresh token lifetime (e.g. 168h for 7 days)
JWT_REFRESH_TTL=168h
# BCRYPT_COST is bcrypt cost factor (4-31; default 12)
BCRYPT_COST=12

# SMS Local API key for PoC MFA OTP
SMS_LOCAL_API_KEY=
# SMS Local sender ID for PoC MFA OTP
SMS_LOCAL_SENDER=
# SMS Local base URL for PoC MFA OTP
SMS_LOCAL_BASE_URL=https://app.smslocal.in/api/smsapi
# Default trust TTL in days (e.g. 30)
DEFAULT_TRUST_TTL_DAYS=30
# Application environment (e.g. development, production). Must not be production when OTP_RETURN_TO_CLIENT is true (startup will fail).
APP_ENV=
# When true, dev OTP mode: no SMS; OTP stored for GET /dev/mfa/otp. For PoC without DLT. Must not be true when APP_ENV=production.
OTP_RETURN_TO_CLIENT=false

# OpenTelemetry (optional). When set, gRPC server exports traces, metrics, and logs via OTLP to the Collector.
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=ztcp-grpc
