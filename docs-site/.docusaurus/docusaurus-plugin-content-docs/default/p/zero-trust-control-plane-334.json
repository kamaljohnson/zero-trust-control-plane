{"version":{"pluginId":"default","version":"current","label":"Next","banner":null,"badge":false,"noIndex":false,"className":"docs-version-current","isLast":true,"docsSidebars":{"docsSidebar":[{"type":"link","href":"/zero-trust-control-plane/intro","label":"Introduction","docId":"intro","unlisted":false},{"type":"category","label":"Backend","items":[{"type":"link","href":"/zero-trust-control-plane/backend/grpc-api-overview","label":"gRPC API overview","docId":"backend/grpc-api-overview","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/auth","label":"Auth","docId":"backend/auth","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/audit","label":"Audit","docId":"backend/audit","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/database","label":"Database","docId":"backend/database","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/device-trust","label":"Device Trust","docId":"backend/device-trust","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/health","label":"Health","docId":"backend/health","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/mfa","label":"MFA","docId":"backend/mfa","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/org-policy-config","label":"Org Policy Config","docId":"backend/org-policy-config","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/organization-membership","label":"Organization and membership","docId":"backend/organization-membership","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/policy-engine","label":"Policy engine","docId":"backend/policy-engine","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/sessions","label":"Sessions","docId":"backend/sessions","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/session-lifecycle","label":"Session lifecycle","docId":"backend/session-lifecycle","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/telemetry","label":"Telemetry","docId":"backend/telemetry","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/backend/testing","label":"Testing","docId":"backend/testing","unlisted":false}],"collapsed":true,"collapsible":true,"href":"/zero-trust-control-plane/category/backend"},{"type":"category","label":"Frontend","items":[{"type":"link","href":"/zero-trust-control-plane/frontend/architecture","label":"Architecture","docId":"frontend/architecture","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/frontend/dashboard","label":"Dashboard","docId":"frontend/dashboard","unlisted":false},{"type":"link","href":"/zero-trust-control-plane/frontend/user-browser","label":"User Browser","docId":"frontend/user-browser","unlisted":false}],"collapsed":true,"collapsible":true,"href":"/zero-trust-control-plane/category/frontend"},{"type":"category","label":"Operations","items":[{"type":"link","href":"/zero-trust-control-plane/operations/deployment","label":"Deployment","docId":"operations/deployment","unlisted":false}],"collapsed":true,"collapsible":true,"href":"/zero-trust-control-plane/category/operations"}]},"docs":{"backend/audit":{"id":"backend/audit","title":"Audit Logging","description":"This document describes the audit logging system for the zero-trust control plane backend: purpose, what is logged, how to query, and behavior. The canonical proto is proto/audit/audit.proto; the write path is implemented in internal/server/interceptors/audit.go; the read path is in internal/audit/handler/grpc.go. For interceptor order and identity in context, see auth.md. For the audit_logs table and schema, see database.md.","sidebar":"docsSidebar"},"backend/auth":{"id":"backend/auth","title":"Auth Implementation","description":"This document describes the authentication implementation for the zero-trust control plane backend: architecture, API surface, security measures, flows, and configuration. The canonical proto is internal/proto/auth/auth.proto; business logic lives in internal/identity/service/authservice.go; the gRPC server is implemented in internal/identity/handler/grpc.go.","sidebar":"docsSidebar"},"backend/database":{"id":"backend/database","title":"Database Structure","description":"This document describes the current PostgreSQL schema for the zero-trust control plane backend. The canonical schema is maintained in internal/db/sqlc/schema/001schema.sql and applied via internal/db/migrations/. For MFA and device-trust behavior (when MFA is required, policy evaluation, OTP flow), see mfa.md and device-trust.md.","sidebar":"docsSidebar"},"backend/device-trust":{"id":"backend/device-trust","title":"Device Trust","description":"This document describes device-trust logic in the zero-trust control plane backend: how devices are identifiable, revocable, and time-bound; policy evaluation (OPA/Rego) that decides when MFA is required and when to register or refresh trust; and configuration. For MFA flows (Login MFA branch, Refresh MFA branch, VerifyMFA, challenge/OTP, API), see mfa.md. Business logic lives in internal/identity/service/authservice.go; policy evaluation is in internal/policy/engine/.","sidebar":"docsSidebar"},"backend/grpc-api-overview":{"id":"backend/grpc-api-overview","title":"gRPC API Overview","description":"This document summarizes the gRPC API of the zero-trust control plane: a single gRPC server, all services and their main RPCs, and how callers use it (backend in-process, frontend via Next.js API routes). For auth, sessions, policy, and other topics, see the linked backend docs.","sidebar":"docsSidebar"},"backend/health":{"id":"backend/health","title":"Health checks","description":"The backend exposes a readiness health check via the gRPC HealthService.HealthCheck RPC. It is used by Kubernetes, load balancers, and CI to determine whether the server is ready to accept traffic.","sidebar":"docsSidebar"},"backend/mfa":{"id":"backend/mfa","title":"MFA (Multi-Factor Authentication)","description":"This document describes the risk-based MFA logic in the zero-trust control plane backend: when MFA is required, MFA challenge and OTP flow, API surface, and configuration. Device trust (identifiable, revocable, time-bound) influences whether MFA is required; see device-trust.md. The canonical proto for auth is proto/auth/auth.proto; business logic lives in internal/identity/service/authservice.go.","sidebar":"docsSidebar"},"backend/org-policy-config":{"id":"backend/org-policy-config","title":"Org Policy Config","description":"This document describes the OrgPolicyConfigService: per-org structured policy configuration with five sections, Get/Update API, storage in orgpolicyconfig, and sync of Auth & MFA and Device Trust sections to orgmfasettings. The canonical proto is orgpolicyconfig/orgpolicyconfig.proto; the handler is internal/orgpolicyconfig/handler/grpc.go.","sidebar":"docsSidebar"},"backend/organization-membership":{"id":"backend/organization-membership","title":"Organization and Membership","description":"This document describes organizations (tenants) and membership (users in orgs with roles): OrganizationService and MembershipService, protos, handlers, and how they relate to the dashboard and RBAC. For auth and session behavior, see auth and sessions.","sidebar":"docsSidebar"},"backend/policy-engine":{"id":"backend/policy-engine","title":"Policy Engine (OPA/Rego)","description":"This document describes the policy engine in the zero-trust control plane backend: OPA/Rego integration, policy structure (database, domain, API, Rego contract), default policy, and the full evaluation flow. The policy engine is used only for device-trust / MFA decisions (when to require MFA, whether to register trust after MFA, and trust TTL in days). For device-trust semantics and MFA flows, see device-trust.md and mfa.md.","sidebar":"docsSidebar"},"backend/session-lifecycle":{"id":"backend/session-lifecycle","title":"Session Lifecycle","description":"This document describes the session lifecycle in the zero-trust control plane: when and how sessions are created, how heartbeats (lastseenat) work, how sessions end (revocation), and how clients behave (proactive refresh, 401 handling, logout). For SessionService RPCs and token invalidation details, see sessions.md.","sidebar":"docsSidebar"},"backend/sessions":{"id":"backend/sessions","title":"Session Management","description":"This document describes the SessionService: listing and revoking sessions for an organization, and how revocation invalidates both refresh and access tokens. The canonical proto is session/session.proto; the handler is internal/session/handler/grpc.go.","sidebar":"docsSidebar"},"backend/telemetry":{"id":"backend/telemetry","title":"Telemetry","description":"The telemetry system provides observability for the gRPC API and custom application events: traces for request flow and latency, metrics for rates and duration, and logs for explicit events emitted via the TelemetryService. All signals are produced by the gRPC server using the OpenTelemetry SDK, exported over OTLP to an OpenTelemetry Collector, which fans out to Loki (logs), Prometheus (metrics), and Tempo (traces) for querying and dashboards in Grafana.","sidebar":"docsSidebar"},"backend/testing":{"id":"backend/testing","title":"Backend Testing","description":"This document describes the comprehensive test suite for the zero-trust control plane backend. All tests use Go's standard testing package and follow consistent patterns for mocking dependencies and testing both success and error scenarios.","sidebar":"docsSidebar"},"contributing/pending":{"id":"contributing/pending","title":"Pending documentation","description":"This file lists documentation entries that are planned but not yet written for the project. Each entry is a suggested topic with a short description."},"frontend/architecture":{"id":"frontend/architecture","title":"Frontend Architecture","description":"This document describes the frontend architecture of the zero-trust control plane: Next.js App Router structure, auth context, gRPC/HTTP bridge, and session handling. For dashboard pages and browser flows, see Dashboard and User Browser.","sidebar":"docsSidebar"},"frontend/dashboard":{"id":"frontend/dashboard","title":"Web Dashboard (Org Admin)","description":"This document describes the authenticated org admin dashboard: layout, Members, Audit log, Policy, and Telemetry pages, API route pattern, and 401 handling. The dashboard lives under app/dashboard/.","sidebar":"docsSidebar"},"frontend/user-browser":{"id":"frontend/user-browser","title":"User Browser","description":"This document describes the policy-enforced user browser: layout, URL flow, action buttons, BFF API routes, backend RPCs, and how Access Control and Action Restrictions are applied. The browser lives under app/browser/.","sidebar":"docsSidebar"},"intro":{"id":"intro","title":"Introduction","description":"Welcome to the Zero Trust Control Plane documentation. This project is a proof-of-concept zero-trust session and policy control plane: backend (Go gRPC) and web client (Next.js).","sidebar":"docsSidebar"},"operations/deployment":{"id":"operations/deployment","title":"Deployment and Operations","description":"This document describes how to run the backend and frontend (locally and in production), environment variables, and optional observability. For the full local Docker Compose stack (PostgreSQL, OpenTelemetry Collector, Loki, Tempo, Prometheus, Grafana), see deploy/README.md.","sidebar":"docsSidebar"}}}}